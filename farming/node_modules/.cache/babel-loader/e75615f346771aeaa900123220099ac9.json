{"ast":null,"code":"import _objectSpread from \"/home/naresh/Desktop/MyProject/farming/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/home/naresh/Desktop/MyProject/farming/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/naresh/Desktop/MyProject/farming/src/farmer/AddVegetable.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Layout from \"../core/Layout\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link } from \"react-router-dom\";\nimport { createVegetable } from \"./apiFarmer\";\n\nconst AddVegetable = () => {\n  const _useState = useState({\n    item_name: \"\",\n    price: \"\",\n    quantity: \"\",\n    farmer_id: \" \",\n    photo: \"\",\n    loading: false,\n    error: \"\",\n    createdVegetable: \"\",\n    redirectToProfile: false,\n    formData: \"\"\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        values = _useState2[0],\n        setValues = _useState2[1];\n\n  const _isAuthenticated = isAuthenticated(),\n        user = _isAuthenticated.user,\n        token = _isAuthenticated.token;\n\n  const item_name = values.item_name,\n        price = values.price,\n        quantity = values.quantity,\n        farmer_id = values.farmer_id,\n        loading = values.loading,\n        error = values.error,\n        createdProduct = values.createdProduct,\n        redirectToProfile = values.redirectToProfile,\n        formData = values.formData;\n  useEffect(() => {\n    setValues(_objectSpread({}, values, {\n      formData: new FormData()\n    }));\n  }, []);\n\n  const handleChange = name => event => {\n    const value = name === \"photo\" ? event.target.files[0] : event.target.value;\n    formData.set(name, value);\n    setValues(_objectSpread({}, values, {\n      [name]: value\n    }));\n  };\n\n  const clickSubmit = event => {\n    event.preventDefault();\n    setValues(_objectSpread({}, values, {\n      error: \"\",\n      loading: true\n    }));\n    createVegetable(user._id, token, formData).then(data => {\n      if (data.error) {\n        setValues(_objectSpread({}, values, {\n          error: data.error\n        }));\n      } else {\n        setValues(_objectSpread({}, values, {\n          item_name: \"\",\n          photo: \"\",\n          price: \"\",\n          quantity: \"\",\n          loading: false,\n          createdProduct: data.name\n        }));\n      }\n    });\n  };\n\n  const newPostForm = () => React.createElement(\"form\", {\n    className: \"mb-3\",\n    onSubmit: clickSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"Item name\"), React.createElement(\"input\", {\n    onChange: handleChange(\"item_name\"),\n    type: \"text\",\n    className: \"form-control\",\n    placeholder: \"Item name\",\n    value: item_name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"Price\"), React.createElement(\"input\", {\n    onChange: handleChange(\"price\"),\n    type: \"number\",\n    className: \"form-control\",\n    value: price,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, \"Quantity\"), React.createElement(\"input\", {\n    onChange: handleChange(\"quantity\"),\n    type: \"number\",\n    className: \"form-control\",\n    value: quantity,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  })), React.createElement(\"h4\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, \"Upload Photo\"), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"btn btn-secondary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    onChange: handleChange(\"photo\"),\n    type: \"file\",\n    name: \"photo\",\n    accept: \"image/*\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"form-check\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    onChange: handleChange(\"farmer_id\"),\n    type: \"checkbox\",\n    className: \"form-check-input\",\n    value: \"\".concat(user._id),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    className: \"form-check-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, \" Confirm\")), React.createElement(\"button\", {\n    className: \"btn btn-outline-primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, \"Add Vegetable\"));\n\n  return React.createElement(Layout, {\n    title: \"Add a new vegetable\",\n    description: \"Helloo \".concat(user.name, \", ready to add a new vegetable?\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-md-8 offset-md-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, newPostForm())));\n};\n\nexport default AddVegetable;","map":{"version":3,"sources":["/home/naresh/Desktop/MyProject/farming/src/farmer/AddVegetable.js"],"names":["React","useState","useEffect","Layout","isAuthenticated","Link","createVegetable","AddVegetable","item_name","price","quantity","farmer_id","photo","loading","error","createdVegetable","redirectToProfile","formData","values","setValues","user","token","createdProduct","FormData","handleChange","name","event","value","target","files","set","clickSubmit","preventDefault","_id","then","data","newPostForm"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Layout from \"../core/Layout\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link } from \"react-router-dom\";\nimport { createVegetable } from \"./apiFarmer\";\n\nconst AddVegetable = () => {\n    const [values, setValues] = useState({\n        item_name: \"\",\n        price: \"\",\n        quantity: \"\",\n        farmer_id:\" \",\n        photo: \"\",\n        loading: false,\n        error: \"\",\n        createdVegetable: \"\",\n        redirectToProfile: false,\n        formData: \"\"\n    });\n\n    const { user, token } = isAuthenticated();\n\n    const {\n        item_name,\n        price,\n        quantity,\n        farmer_id,\n        loading,\n        error,\n        createdProduct,\n        redirectToProfile,\n        formData\n    } = values;\n\n    useEffect(() => {\n        setValues({ ...values, formData: new FormData() });\n    }, []);\n\n    const handleChange = name => event => {\n        const value =\n            name === \"photo\" ? event.target.files[0] : event.target.value;\n        formData.set(name, value);\n        setValues({ ...values, [name]: value });\n    };\n\n    const clickSubmit = event => {\n        event.preventDefault();\n        setValues({ ...values, error: \"\", loading: true });\n\n        createVegetable(user._id, token, formData)\n        .then(data => {\n            if (data.error) {\n                setValues({ ...values, error: data.error });\n            } else {\n                setValues({\n                    ...values,\n                    item_name: \"\",\n                    photo: \"\",\n                    price: \"\",\n                    quantity: \"\",\n                    loading: false,\n                    createdProduct: data.name\n                });\n            }\n        });\n    };\n\n    const newPostForm = () => (\n        <form className=\"mb-3\" onSubmit={clickSubmit}>\n\n\n            <div className=\"form-group\">\n                <label>Item name</label>\n                <input\n                    onChange={handleChange(\"item_name\")}\n                    type=\"text\"\n                    className=\"form-control\"\n                    placeholder=\"Item name\"\n                    value={item_name}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label >Price</label>\n                <input\n                    onChange={handleChange(\"price\")}\n                    type=\"number\"\n                    className=\"form-control\"\n                    value={price}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label >Quantity</label>\n                <input\n                    onChange={handleChange(\"quantity\")}\n                    type=\"number\"\n                    className=\"form-control\"\n                    value={quantity}\n                />\n            </div>\n\n            <h4>Upload Photo</h4>\n            <div className=\"form-group\">\n                <label className=\"btn btn-secondary\">\n                    <input\n                        onChange={handleChange(\"photo\")}\n                        type=\"file\"\n                        name=\"photo\"\n                        accept=\"image/*\"\n                    />\n                </label>\n            </div>\n            <div className=\"form-check\">\n                <input\n                    onChange={handleChange(\"farmer_id\")}\n                    type=\"checkbox\"\n                    className=\"form-check-input\"\n                    value={`${user._id}`}\n                />\n                <label className=\"form-check-label\" > Confirm</label>\n            </div>\n\n            <button className=\"btn btn-outline-primary\">Add Vegetable</button>\n        </form>\n    );\n\n\n    return(\n        <Layout\n            title=\"Add a new vegetable\"\n            description={`Helloo ${user.name}, ready to add a new vegetable?`}\n        >\n            <div className=\"row\">\n                <div className=\"col-md-8 offset-md-2\">\n                   {newPostForm()}\n                </div>\n            </div>\n        </Layout>\n    );\n};\n\nexport default AddVegetable;"]},"metadata":{},"sourceType":"module"}